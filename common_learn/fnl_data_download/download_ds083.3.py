#!/usr/bin/env python
#################################################################
# Python Script to retrieve 496 online Data files of 'ds083.3',
# total 156.8G. This script uses 'requests' to download data.
#
# Highlight this script by Select All, Copy and Paste it into a file;
# make the file executable and run it on command line.
#
# You need pass in your password as a parameter to execute
# this script; or you can set an environment variable RDAPSWD
# if your Operating System supports it.
#
# Contact rpconroy@ucar.edu (Riley Conroy) for further assistance.
#################################################################


import sys, os
import requests

def check_file_status(filepath, filesize):
    sys.stdout.write('\r')
    sys.stdout.flush()
    size = int(os.stat(filepath).st_size)
    percent_complete = (size/filesize)*100
    sys.stdout.write('%.3f %s' % (percent_complete, '% Completed'))
    sys.stdout.flush()

# Try to get password
if len(sys.argv) < 2 and not 'RDAPSWD' in os.environ:
    try:
        import getpass
        input = getpass.getpass
    except:
        try:
            input = raw_input
        except:
            pass
    pswd = "123654zy"
else:
    try:
        pswd = sys.argv[1]
    except:
        pswd = os.environ['RDAPSWD']

url = 'https://rda.ucar.edu/cgi-bin/login'
values = {'email' : '18335100172@163.com', 'passwd' : pswd, 'action' : 'login'}
# Authenticate
ret = requests.post(url,data=values)
if ret.status_code != 200:
    print('Bad Authentication')
    print(ret.text)
    exit(1)
dspath = 'https://rda.ucar.edu/data/ds083.3/'
filelist = [
# '2020/202001/gdas1.fnl0p25.2020010100.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020010100.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020010100.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020010100.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020010106.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020010106.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020010106.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020010106.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020010112.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020010112.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020010112.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020010112.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020010118.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020010118.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020010118.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020010118.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020010200.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020010200.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020010200.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020010200.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020010206.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020010206.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020010206.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020010206.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020010212.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020010212.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020010212.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020010212.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020010218.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020010218.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020010218.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020010218.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020010300.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020010300.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020010300.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020010300.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020010306.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020010306.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020010306.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020010306.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020010312.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020010312.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020010312.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020010312.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020010318.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020010318.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020010318.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020010318.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020010400.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020010400.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020010400.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020010400.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020010406.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020010406.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020010406.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020010406.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020010412.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020010412.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020010412.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020010412.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020010418.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020010418.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020010418.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020010418.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020010500.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020010500.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020010500.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020010500.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020010506.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020010506.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020010506.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020010506.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020010512.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020010512.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020010512.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020010512.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020010518.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020010518.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020010518.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020010518.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020010600.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020010600.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020010600.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020010600.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020010606.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020010606.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020010606.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020010606.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020010612.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020010612.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020010612.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020010612.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020010618.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020010618.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020010618.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020010618.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020010700.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020010700.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020010700.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020010700.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020010706.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020010706.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020010706.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020010706.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020010712.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020010712.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020010712.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020010712.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020010718.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020010718.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020010718.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020010718.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020010800.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020010800.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020010800.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020010800.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020010806.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020010806.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020010806.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020010806.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020010812.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020010812.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020010812.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020010812.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020010818.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020010818.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020010818.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020010818.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020010900.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020010900.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020010900.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020010900.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020010906.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020010906.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020010906.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020010906.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020010912.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020010912.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020010912.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020010912.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020010918.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020010918.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020010918.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020010918.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020011000.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020011000.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020011000.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020011000.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020011006.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020011006.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020011006.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020011006.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020011012.f00.grib2',
# '2020/202001/gdas1.fnl0p25.2020011012.f03.grib2',
# '2020/202001/gdas1.fnl0p25.2020011012.f06.grib2',
# '2020/202001/gdas1.fnl0p25.2020011012.f09.grib2',
# '2020/202001/gdas1.fnl0p25.2020011018.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020011018.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020011018.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020011018.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020011100.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020011100.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020011100.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020011100.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020011106.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020011106.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020011106.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020011106.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020011112.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020011112.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020011112.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020011112.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020011118.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020011118.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020011118.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020011118.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020011200.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020011200.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020011200.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020011200.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020011206.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020011206.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020011206.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020011206.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020011212.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020011212.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020011212.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020011212.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020011218.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020011218.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020011218.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020011218.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020011300.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020011300.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020011300.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020011300.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020011306.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020011306.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020011306.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020011306.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020011312.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020011312.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020011312.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020011312.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020011318.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020011318.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020011318.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020011318.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020011400.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020011400.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020011400.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020011400.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020011406.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020011406.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020011406.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020011406.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020011412.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020011412.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020011412.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020011412.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020011418.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020011418.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020011418.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020011418.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020011500.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020011500.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020011500.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020011500.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020011506.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020011506.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020011506.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020011506.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020011512.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020011512.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020011512.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020011512.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020011518.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020011518.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020011518.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020011518.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020011600.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020011600.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020011600.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020011600.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020011606.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020011606.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020011606.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020011606.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020011612.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020011612.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020011612.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020011612.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020011618.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020011618.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020011618.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020011618.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020011700.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020011700.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020011700.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020011700.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020011706.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020011706.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020011706.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020011706.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020011712.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020011712.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020011712.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020011712.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020011718.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020011718.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020011718.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020011718.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020011800.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020011800.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020011800.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020011800.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020011806.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020011806.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020011806.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020011806.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020011812.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020011812.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020011812.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020011812.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020011818.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020011818.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020011818.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020011818.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020011900.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020011900.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020011900.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020011900.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020011906.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020011906.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020011906.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020011906.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020011912.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020011912.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020011912.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020011912.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020011918.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020011918.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020011918.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020011918.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012000.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012000.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012000.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012000.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012006.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012006.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012006.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012006.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012012.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012012.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012012.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012012.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012018.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012018.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012018.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012018.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012100.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012100.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012100.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012100.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012106.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012106.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012106.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012106.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012112.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012112.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012112.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012112.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012118.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012118.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012118.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012118.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012200.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012200.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012200.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012200.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012206.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012206.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012206.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012206.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012212.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012212.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012212.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012212.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012218.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012218.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012218.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012218.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012300.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012300.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012300.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012300.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012306.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012306.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012306.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012306.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012312.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012312.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012312.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012312.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012318.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012318.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012318.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012318.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012400.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012400.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012400.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012400.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012406.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012406.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012406.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012406.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012412.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012412.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012412.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012412.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012418.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012418.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012418.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012418.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012500.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012500.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012500.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012500.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012506.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012506.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012506.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012506.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012512.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012512.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012512.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012512.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012518.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012518.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012518.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012518.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012600.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012600.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012600.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012600.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012606.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012606.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012606.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012606.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012612.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012612.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012612.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012612.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012618.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012618.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012618.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012618.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012700.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012700.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012700.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012700.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012706.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012706.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012706.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012706.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012712.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012712.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012712.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012712.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012718.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012718.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012718.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012718.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012800.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012800.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012800.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012800.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012806.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012806.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012806.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012806.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012812.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012812.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012812.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012812.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012818.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012818.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012818.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012818.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012900.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012900.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012900.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012900.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012906.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012906.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012906.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012906.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012912.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012912.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012912.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012912.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020012918.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020012918.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020012918.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020012918.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020013000.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020013000.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020013000.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020013000.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020013006.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020013006.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020013006.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020013006.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020013012.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020013012.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020013012.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020013012.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020013018.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020013018.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020013018.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020013018.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020013100.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020013100.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020013100.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020013100.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020013106.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020013106.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020013106.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020013106.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020013112.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020013112.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020013112.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020013112.f09.grib2',
'2020/202001/gdas1.fnl0p25.2020013118.f00.grib2',
'2020/202001/gdas1.fnl0p25.2020013118.f03.grib2',
'2020/202001/gdas1.fnl0p25.2020013118.f06.grib2',
'2020/202001/gdas1.fnl0p25.2020013118.f09.grib2']
for file in filelist:
    filename=dspath+file
    file_base = 'data/'+os.path.basename(file)
    print('Downloading',file_base)
    req = requests.get(filename, cookies = ret.cookies, allow_redirects=True, stream=True)
    filesize = int(req.headers['Content-length'])
    with open(file_base, 'wb') as outfile:
        chunk_size=1048576
        for chunk in req.iter_content(chunk_size=chunk_size):
            outfile.write(chunk)
            if chunk_size < filesize:
                check_file_status(file_base, filesize)
    check_file_status(file_base, filesize)
    print()
