import random
import json
from pyecharts import options as opts
from pyecharts.charts import HeatMap
from pyecharts.faker import Faker


# data = [[0, 0, "121"], [0, 1, "369"], [0, 2, "78"], [0, 3, "111"], [0, 4, "84"], [0, 5, "223"], [0, 6, "109"], [1, 0, "124"], [1, 1, "310"], [1, 2, "77"], [1, 3, "114"], [1, 4, "86"], [1, 5, "211"], [1, 6, "104"], [2, 0, "124"], [2, 1, "263"], [2, 2, "75"], [2, 3, "114"], [2, 4, "124"], [2, 5, "197"], [2, 6, "103"], [3, 0, "109"], [3, 1, "209"], [3, 2, "76"], [3, 3, "108"], [3, 4, "197"], [3, 5, "191"], [3, 6, "108"], [4, 0, "86"], [4, 1, "186"], [4, 2, "73"], [4, 3, "105"], [4, 4, "220"], [4, 5, "186"], [4, 6, "108"], [5, 0, "73"], [5, 1, "174"], [5, 2, "72"], [5, 3, "109"], [5, 4, "212"], [5, 5, "180"], [5, 6, "104"], [6, 0, "66"], [6, 1, "166"], [6, 2, "72"], [6, 3, "106"], [6, 4, "200"], [6, 5, "175"], [6, 6, "105"], [7, 0, "63"], [7, 1, "154"], [7, 2, "72"], [7, 3, "103"], [7, 4, "180"], [7, 5, "174"], [7, 6, "109"], [8, 0, "64"], [8, 1, "139"], [8, 2, "71"], [8, 3, "101"], [8, 4, "186"], [8, 5, "175"], [8, 6, "108"], [9, 0, "75"], [9, 1, "132"], [9, 2, "77"], [9, 3, "99"], [9, 4, "183"], [9, 5, "171"], [9, 6, "96"], [10, 0, "89"], [10, 1, "121"], [10, 2, "85"], [10, 3, "114"], [10, 4, "191"], [10, 5, "161"], [10, 6, "83"], [11, 0, "126"], [11, 1, "109"], [11, 2, "88"], [11, 3, "108"], [11, 4, "181"], [11, 5, "142"], [11, 6, "76"], [12, 0, "136"], [12, 1, "100"], [12, 2, "89"], [12, 3, "94"], [12, 4, "190"], [12, 5, "115"], [12, 6, "80"], [13, 0, "204"], [13, 1, "93"], [13, 2, "90"], [13, 3, "88"], [13, 4, "196"], [13, 5, "103"], [13, 6, "79"], [14, 0, "176"], [14, 1, "86"], [14, 2, "89"], [14, 3, "84"], [14, 4, "199"], [14, 5, "96"], [14, 6, "78"], [15, 0, "162"], [15, 1, "81"], [15, 2, "104"], [15, 3, "81"], [15, 4, "199"], [15, 5, "91"], [15, 6, "79"], [16, 0, "151"], [16, 1, "80"], [16, 2, "118"], [16, 3, "80"], [16, 4, "189"], [16, 5, "88"], [16, 6, "71"], [17, 0, "165"], [17, 1, "77"], [17, 2, "117"], [17, 3, "78"], [17, 4, "198"], [17, 5, "85"], [17, 6, "64"], [18, 0, "189"], [18, 1, "77"], [18, 2, "115"], [18, 3, "76"], [18, 4, "220"], [18, 5, "87"], [18, 6, "64"], [19, 0, "214"], [19, 1, "80"], [19, 2, "117"], [19, 3, "77"], [19, 4, "240"], [19, 5, "89"], [19, 6, "67"], [20, 0, "234"], [20, 1, "81"], [20, 2, "133"], [20, 3, "78"], [20, 4, "243"], [20, 5, "96"], [20, 6, "64"], [21, 0, "287"], [21, 1, "76"], [21, 2, "136"], [21, 3, "81"], [21, 4, "237"], [21, 5, "102"], [21, 6, "60"], [22, 0, "370"], [22, 1, "76"], [22, 2, "125"], [22, 3, "86"], [22, 4, "231"], [22, 5, "109"], [22, 6, "61"], [23, 0, "393"], [23, 1, "77"], [23, 2, "113"], [23, 3, "89"], [23, 4, "221"], [23, 5, "104"], [23, 6, "64"]]
with open("demoresult.json", "r", encoding="utf-8") as f:
    data = json.load(f)
print(data)
value=['一月','二月','三月','四月','五月','六月','七月','八月','九月','十月','十一月','十二月']
time_t = ['0时','1时','2时','3时','4时','5时','6时','7时','8时','9时','10时','11时','12时','13时','14时','15时','16时','17时','18时','19时','20时','21时','22时','23时']
date_t = ['1日','2日','6日','4日','5日','6日','7日','8日','9日','10日','11日','12日','13日','14日','15日','16日','17日','18日','19日','20日','21日','22日','23日','24日','25日','26日','27日','28日','29日','30日','31日',]
c = (
    HeatMap(init_opts=opts.InitOpts(width="1000px", height="600px"))
    .add_xaxis(date_t)
    .add_yaxis(
        "AQI",
        value,
        data,
        label_opts=opts.LabelOpts(is_show=True, position="inside",color='black'),
    )
    .set_global_opts(
        title_opts=opts.TitleOpts(title="2021年第三周AQI污染物浓度",  pos_top="30px",pos_left="400px"),
        # toolbox_opts=opts.ToolboxOpts(is_show=True),显示工具
        visualmap_opts=opts.VisualMapOpts(
            max_=10,
            min_=0,
            orient="horizontal",
            is_piecewise=True,
            split_number=5,
            pos_top="570px",
            pos_left="250px",
            pieces=[  # 更改区间及区间显示颜色
                {'min': 0, 'max': 50, 'label': '优', 'color': '#00E400'},
                {'min': 51, 'max': 100, 'label': '良', 'color': '#FFFF00'},
                {'min': 101, 'max': 150, 'label': '轻度污染', 'color': '#FF7E00'},
                {'min': 151, 'max': 200, 'label': '中度污染', 'color': '#FF0000'},
                {'min': 201, 'max': 300, 'label': '重度污染', 'color': '#99004C'},
                {'min': 300, 'label': '严重污染', 'color': '#7E0023'},
            ]
        ),

    )
    .render("heatmap_with_label_show.html")
)